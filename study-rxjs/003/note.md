### Tree-Shaking
- "æ‘‡ğŸŒ²"

Tree-Shakingå¸®ä¸ä¸ŠRxjsä»€ä¹ˆå¿™ã€‚RXjsä¸­ä»»ä½•ä¸€ä¸ªæ“ä½œç¬¦éƒ½æŒ‚åœ¨Observableç±»ä¸Šæˆ–è€…Observable.prototypeä¸Šçš„ï¼Œèµ‹å€¼ç»™Observableæˆ–è€…Observable.prototypeä¸Šçš„æŸä¸ªå±æ€§åœ¨Tree-Shakingçœ‹æ¥å°±æ˜¯è¢«å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œæ‰€æœ‰æ“ä½œç¬¦ä¸ç®¡çœŸå®è¿è¡Œçš„æ—¶å€™æ˜¯å¦è¢«è°ƒç”¨ï¼Œéƒ½ä¼šè¢«Tree Shakingè®¤ä¸ºæ˜¯ä¼šç”¨åˆ°çš„ä»£ç ã€‚


### Babel config
æŒ‰ç…§Babelå®˜ç½‘çš„ä»‹ç»ï¼Œå…¶å®Presetå’ŒStage-Xéƒ½æ˜¯å½’å±åˆ°Pluginé‡Œé¢çš„ï¼Œåªä¸è¿‡æ‰€è¦†ç›–çš„èŒƒå›´ä¸åŒè€Œå·²ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœéœ€è¦è½¬æ¢ES2015(ES6)çš„è¯­æ³•ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨.babelrcçš„pluginsä¸­æŒ‰éœ€å¼•å…¥check-es2015-constantsã€es2015-arrow-functionsã€es2015-block-scoped-functionsç­‰ç­‰å‡ åä¸ªä¸åŒä½œç”¨çš„pluginï¼š

// .babelrc
```json
{
  "plugins": [
    "check-es2015-constants",
    "es2015-arrow-functions",
    "es2015-block-scoped-functions",
    // ...
  ]
}
```
ä½†æ˜¯Babelå›¢é˜Ÿä¸ºäº†æ–¹ä¾¿ï¼Œå°†åŒå±ES2015çš„å‡ åä¸ªTransform Pluginsé›†åˆåˆ°babel-preset-es2015ä¸€ä¸ªPresetä¸­ï¼Œè¿™æ ·ä½ åªéœ€è¦åœ¨.babelrcçš„presetsåŠ å…¥es2015ä¸€ä¸ªé…ç½®å°±å¯ä»¥å®Œæˆå…¨éƒ¨ES2015è¯­æ³•çš„æ”¯æŒäº†ï¼š

// .babelrc
```json
{
  "presets": [
    "es2015"
  ]
}
```
å¦å¤–ï¼Œä¸è®ºæ˜¯Pluginè¿˜æ˜¯Presetï¼Œæœ‰ä¸å°‘éƒ½æœ‰å•ç‹¬å±äºè‡ªå·±çš„é…ç½®é¡¹ï¼Œå…·ä½“å¦‚ä½•æ“ä½œçš„å¯ä»¥çœ‹ä¸€ä¸‹å®˜ç½‘çš„è¯´æ˜ã€‚

ä¸Šé¢ä»‹ç»äº†Pluginä¸Presetï¼Œé‚£ä¹ˆStage-Xå°±å¾ˆå¥½ç†è§£äº†ï¼Œstage-0ã€stage-1ã€stage-2ã€stage-3ã€stage-4åˆ†åˆ«å¯¹åº”çš„å°±æ˜¯è¿›å…¥æ ‡å‡†ä¹‹å‰çš„5ä¸ªé˜¶æ®µï¼Œä¸åŒstage-xä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œæ•°å­—è¶Šå°ï¼Œé˜¶æ®µè¶Šé åï¼Œé åé˜¶æ®µåŒ…å«å‰é¢é˜¶æ®µæ‰€æœ‰çš„åŠŸèƒ½ï¼Œç®€å•ç†è§£å°±æ˜¯stage-0åŒ…å«stage-1/2/3çš„å†…å®¹ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸çŸ¥é“éœ€è¦å“ªä¸ªstage-xçš„è¯ï¼Œç›´æ¥å¼•å…¥stage-0å°±å¥½äº†ã€‚

PS: `babel-preset-stage-4å·²ç»æ•´åˆå…¥Presetsä¸å•ç‹¬å‘å¸ƒäº†ã€‚`


pluginsä¼˜å…ˆäºpresetsè¿›è¡Œç¼–è¯‘ï¼›
pluginsæŒ‰ç…§æ•°ç»„çš„indexå¢åº(ä»æ•°ç»„ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ª)è¿›è¡Œç¼–è¯‘ï¼›
presetsæŒ‰ç…§æ•°ç»„çš„indexå€’åº(ä»æ•°ç»„æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª)è¿›è¡Œç¼–è¯‘ï¼Œå› ä¸ºä½œè€…è®¤ä¸ºå¤§éƒ¨åˆ†ä¼šæŠŠpresetså†™æˆ["es2015", "stage-0"]ï¼Œå…·ä½“ç»†èŠ‚å¯ä»¥çœ‹è¿™ä¸ªã€‚